(function(s,u,g,f,c,y,T,l){"use strict";const{canUseIncreasedMessageLength:R}=u.findByProps("canUseIncreasedMessageLength");function p(t){return t.toString().split("").reverse().map(function(n,r,o){return r%3===0&&o.length>3&&r!==0?`${n},`:n}).reverse().join("")}function m(){return Object.keys(T.plugins).find(function(t){return t.includes("SplitLargeMessages")})?1/0:R()?4e3:2e3}const{TextStyleSheet:v}=u.findByProps("TextStyleSheet"),{Text:x,View:S}=y.General,i=c.stylesheet.createThemedStyleSheet({text:{...v["text-xs/semibold"],backgroundColor:l.semanticColors.BACKGROUND_TERTIARY,borderRadius:8,textAlign:"right",marginRight:8,marginTop:-4,paddingHorizontal:8,paddingVertical:8},normal:{color:l.semanticColors.TEXT_NORMAL},jinkies:{color:l.semanticColors.TEXT_DANGER}});function C(t){let{thing:n}=t;const[r,o]=c.React.useState("");n.runner=function(j){return o(j)};const a=r.length,e=m(),b=i.text.fontSize*2+i.text.paddingVertical;return c.React.createElement(S,{style:{flexDirection:"row-reverse",position:"absolute",right:0,top:-b}},c.React.createElement(x,{style:{...i.text,color:a<=e?i.normal.color:i.jinkies.color}},p(a),"/",e!==1/0?p(e):"\u221E"))}const{ChatInput:E}=u.findByProps("ChatInput");let d=[];function A(){return d.push(g.after("render",E.prototype,function(t,n){const r=f.findInReactTree(n,function(e){return typeof e?.placeholder=="string"});if(!r?.onChangeText)return;const o=f.findInReactTree(n,function(e){return e?.type?.displayName==="View"&&Array.isArray(e?.props?.children)})?.props?.children;if(!o)return console.log("no children");let a={runner:function(){}};r.onChangeText=function(e){return a.runner(e)},o.unshift(React.createElement(C,{thing:a}))})),function(){d.forEach(function(t){return t()}),d=[]}}let h;var I={onLoad:function(){return h=A()},onUnload:function(){return h?.()}};return s.default=I,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.patcher,vendetta.utils,vendetta.metro.common,vendetta.ui.components,vendetta.plugins,vendetta.ui);
